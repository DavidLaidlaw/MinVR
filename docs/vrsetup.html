<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>MinVR: Specifying a VR configuration</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MinVR
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">A multi-platform virtual reality library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Specifying a VR configuration </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#vrsetup_intro">Introduction</a></li>
<li class="level1"><a href="#vrsetup_structure">File structure for vrsetup</a><ul><li class="level2"><a href="#vrsetup_structure_recommendations">Configuration Recommendations</a></li>
<li class="level2"><a href="#vrsetup_structure_parameters">Supported vrsetup parameters</a></li>
</ul>
</li>
<li class="level1"><a href="#vrsetup_devices">Input devices file structure</a><ul><li class="level2"><a href="#vrsetup_devices_parameters">Input device file parameters</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="vrsetup_intro"></a>
Introduction</h1>
<p>To run your application in a VR environment, <a class="el" href="namespaceMinVR.html">MinVR</a> requires a configuration file that specifies the display configuration, window parameters, and input devices. The configuration file has two parts. The first has the extension <code>.vrsetup</code> and details the window parameters. The second part has the extension <code>.cfg</code> and specifies the input devices. These are separated so that an input device file could be reused for multiple display/window configurations. Several examples of both vrsetup and input device cfg files can be found in the <code>&lt;install location&gt;/share/vrsetup</code> directory or in <code>&lt;source root&gt;/MVRCore/vrsetup</code>.</p>
<p>To create a vrsetup file specific to your display configuration, copy one of the examples or create a new one using the parameters detailed below.</p>
<h1><a class="anchor" id="vrsetup_structure"></a>
File structure for vrsetup</h1>
<p>Each vrsetup file begins by specifying the associated input devices file, the <code>InterOcularDistance</code> for stereo rendering, and the <code>InitialHeadFrame</code>: </p>
<pre class="fragment">    InputDevicesFile        devices.cfg
    InterOcularDistance     0.2083
    InitialHeadFrame        ((1,0,0,0), (0,1,0,0), (0,0,1,1), (0,0,0,1))
</pre><p>This is followed by a section specifying the number of windows and each window parameter. Each application and have multiple windows and multiple viewports within each window: </p>
<pre class="fragment">    NumWindows                      1
    Window1_Width                   600
    Window1_Height                  600
    Window1_X                       40
    Window1_Y                       40
    Window1_RGBBits                 0
    Window1_AlphaBits               0
    Window1_DepthBits               8
    Window1_StencilBits             0
    Window1_MSAASamples             1
    Window1_FullScreen              0
    Window1_Stereo                  0
    Window1_Resizable               1
    Window1_AllowMaximize           1
    Window1_Framed                  1
    Window1_Caption                 MinVR Window 1
    Window1_StereoType              Mono
    Window1_UseDebugContext         1
    Window1_NumViewports            1
    Window1_Viewport1_CameraType    OffAxis
    Window1_Viewport1_Width         600
    Window1_Viewport1_Height        600
    Window1_Viewport1_X             0
    Window1_Viewport1_Y             0
    Window1_Viewport1_TopLeft       (-0.65, 0.5, 0.0)
    Window1_Viewport1_TopRight      ( 0.65, 0.5, 0.0)
    Window1_Viewport1_BotLeft       (-0.65,-0.5, 0.0)
    Window1_Viewport1_BotRight      ( 0.65,-0.5, 0.0)
    Window1_Viewport1_NearClip      0.01
    Window1_Viewport1_FarClip       100.0
</pre><h2><a class="anchor" id="vrsetup_structure_recommendations"></a>
Configuration Recommendations</h2>
<p><a class="el" href="namespaceMinVR.html">MinVR</a> has the flexibility to render to open multiple windows or multiple viewports within a single window. This choice can have an influence on performance and stereo rendering. Each window runs in its own thread and contains its own OpenGL context.</p>
<p>Our recommendation is that if your displays are connected to multiple graphics cards, use a single window for each card. If multiple displays are connected to each card, for example individual walls in a CAVE environment, use a viewport for each display that is not coplanar. This will enable you to use stereo and will maximize performance because each thread can make sure the CPU-GPU communications are saturated.</p>
<p>If you are using Windows on an Nvidia Quadro card, we also suggest you set the <code>Window&lt;num&gt;_UseGPUAffinity</code> parameter, as this will cause rendering commands to only be sent to the specific GPU the window is associated with, rather than all GPUs.</p>
<h2><a class="anchor" id="vrsetup_structure_parameters"></a>
Supported vrsetup parameters</h2>
<p>The following parameters are supported in a vrsetup file.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Supported values/Format </th><th>Notes  </th></tr>
<tr>
<td><code>InputDevicesFile</code> </td><td>Valid File Path </td><td></td></tr>
<tr>
<td><code>InterOcularDistance</code> </td><td>0 to max float </td><td>Used for stereo to specify the distance between the eyes </td></tr>
<tr>
<td><code>InitialHeadFrame</code> </td><td>((1.0, 0.0, 0.0, 0.0), (0.0, 1.0, 0.0, 0.0), (0.0, 0.0, 1.0, 1.0), (0.0, 0.0, 0.0, 1.0)) </td><td>Coordinate frame to specify the initial head location </td></tr>
<tr>
<td><code>NumWindows</code> </td><td>1 to max int </td><td>Specifies the number of windows. Ideally set the number of windows equal to the number of GPUS </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Width</code> </td><td>0 to max int </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_Height</code> </td><td>0 to max int </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_X</code> </td><td>0 to max int </td><td>Specifies the windows upper left corner position </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Y</code> </td><td>0 to max int </td><td>Specifies the windows upper left corner position </td></tr>
<tr>
<td><code>Window&lt;num&gt;_RGBBits</code> </td><td>0 to max int </td><td>The number of bits to use for <em>each</em> color channel of the framebuffer </td></tr>
<tr>
<td><code>Window&lt;num&gt;_AlphaBits</code> </td><td>0 to max int </td><td>The number of bits to use for the alpha channel of the framebuffer </td></tr>
<tr>
<td><code>Window&lt;num&gt;_DepthBits</code> </td><td>0 to max int </td><td>The number of bits to use for the depth buffer </td></tr>
<tr>
<td><code>Window&lt;num&gt;_StencilBits</code> </td><td>0 to max int </td><td>The number of bits to use for the stencil buffer </td></tr>
<tr>
<td><code>Window&lt;num&gt;_MSAASamples</code> </td><td>0 to max int </td><td>Number of samples per pixel for anti-aliasing purposes </td></tr>
<tr>
<td><code>Window&lt;num&gt;_FullScreen</code> </td><td>0 or 1 </td><td>Open a fullscreen window on the display indicated by the x and y position </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Stereo</code> </td><td>0 or 1 </td><td>Turn stereo on or off </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Resizable</code> </td><td>0 or 1 </td><td>Allow the window to be resized </td></tr>
<tr>
<td><code>Window&lt;num&gt;_AllowMaximize</code> </td><td>0 or 1 </td><td>Allow the window to be maximized </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Framed</code> </td><td>0 or 1 </td><td>Specify whether the window should have a border frame </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Visible</code> </td><td>0 or 1 </td><td>Specifies whether the window will be initially visible when it is created </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Caption</code> </td><td>string </td><td>The window title </td></tr>
<tr>
<td><code>Window&lt;num&gt;_StereoType</code> </td><td>Mono, QuadBuffered, Checkerboard, InterlacedColumns, InterlacedRows, SideBySide </td><td>Specifies the type of stereo used </td></tr>
<tr>
<td><code>Window&lt;num&gt;_UseDebugContext</code> </td><td>0 or 1 </td><td>Create an OpenGL debug context for more debugging info </td></tr>
<tr>
<td><code>Window&lt;num&gt;_UseGPUAffinity</code> </td><td>0 or 1 </td><td>If set to true on an Nvidia Quadro graphics card, <a class="el" href="namespaceMinVR.html">MinVR</a> will use the GPU affinity extension to render only on the card the window is created on. Currently only supported with the GLFW App Kit </td></tr>
<tr>
<td><code>Window&lt;num&gt;_NumViewports</code> </td><td>1 to max int </td><td>The number of viewports the window indicated by &lt;num&gt; contains </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_CameraType</code> </td><td>OffAxis </td><td>The type of VR camera </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_Width</code> </td><td>0 to <code>Window&lt;num&gt;_Width</code> </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_Height</code> </td><td>0 to <code>Window&lt;num&gt;_Height</code> </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_X</code> </td><td>0 to max int </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_Y</code> </td><td>0 to max int </td><td></td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_TopLeft</code> </td><td>(-1.0, 0.5, 0.0) </td><td>Specify the position of the viewport in feet from the VR origin (the center of the display, center of a CAVE, etc.) </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_TopRight</code></td><td>(1.0, 0.5, 0.0) </td><td>Specify the position of the viewport in feet from the VR origin (the center of the display, center of a CAVE, etc.) </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_BotLeft</code> </td><td>(-1.0, -0.5, 0.0) </td><td>Specify the position of the viewport in feet from the VR origin (the center of the display, center of a CAVE, etc.) </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_BotRight</code> </td><td>(1.0, -0.5, 0.0) </td><td>Specify the position of the viewport in feet from the VR origin (the center of the display, center of a CAVE, etc.) </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_NearClip</code> </td><td>0. to max float </td><td>Distance to the near clipping plane </td></tr>
<tr>
<td><code>Window&lt;num&gt;_Viewport&lt;num&gt;_FarClip</code> </td><td>0. to max float </td><td>Distance to the far clipping plane </td></tr>
</table>
<h1><a class="anchor" id="vrsetup_devices"></a>
Input devices file structure</h1>
<p>The input devices file specifies which devices generate events that are sent to your <a class="el" href="namespaceMinVR.html">MinVR</a> application. The parameters in the devices file depend on the device type, but usually follow the following structure where &lt;name&gt; is replaced with a unique name: </p>
<pre class="fragment">    InputDevices+=                          &lt;name&gt;
    &lt;name&gt;_Type                             InputDeviceVRPNTracker
    &lt;name&gt;_InputDeviceVRPNTrackerName       head@tcp:lespaul.cs.umn.edu:3883
    &lt;name&gt;_EventsToGenerate                 &lt;event name&gt;
    &lt;name&gt;_ConvertLHtoRH                    1
    &lt;name&gt;_IgnoreZeroes                     1
    &lt;name&gt;_WaitForNewReportInPoll           0
    &lt;name&gt;_TrackerUnitsToRoomUnitsScale     3.28084
    &lt;name&gt;_DeviceToRoom                     ((1,0,0,0), (0,1,0,-1.73), (0,0,1,2.25), (0,0,0,1))
    &lt;event name&gt;_PropToTracker              ((1,0,0,0), (0,1,0,0), (0,0,1,0), (0,0,0,1))
    &lt;event name&gt;_FinalOffset                ((1,0,0,0), (0,1,0,0), (0,0,1,0), (0,0,0,1))
</pre><p>VRPN button and analog devices look like this: </p>
<pre class="fragment">    InputDevices+=                          TNG3BDigital
    TNG3BDigital_Type                       InputDeviceVRPNButton
    TNG3BDigital_InputDeviceVRPNButtonName  Tng0@tcp:lespaul.cs.umn.edu:3886
    TNG3BDigital_EventsToGenerate           TNG_Btn1 TNG_Btn2 TNG_Btn3 TNG_Btn4 TNG_Btn5 TNG_Btn6 TNG_Btn7 TNG_Btn8

    InputDevices+=                          TNG3BAnalog
    TNG3BAnalog_Type                        InputDeviceVRPNAnalog
    TNG3BAnalog_InputDeviceVRPNAnalogName   Tng0@tcp:lespaul.cs.umn.edu:3886
    TNG3BAnalog_EventsToGenerate            TNG_An1 TNG_An2 TNG_An3 TNG_An4
</pre><p>To add a 3DConnexion SpaceNavigator 3D mouse: </p>
<pre class="fragment">    InputDevices+= Spnav
    Spnav_Type     InputDeviceSpaceNav
</pre><p>To get TUIO multitouch events: </p>
<pre class="fragment">    InputDevices+=          MultiTouch
    MultiTouch_Type         TUIO
    MultiTouch_Port         3333
    MultiTouch_XScaleFactor 1.0
    MultiTouch_YScaleFactor 1.0
</pre><h2><a class="anchor" id="vrsetup_devices_parameters"></a>
Input device file parameters</h2>
<p>The following are valid input device file parameters.</p>
<table class="doxtable">
<tr>
<th>Name </th><th>Supported values/Format </th><th>Notes  </th></tr>
<tr>
<td><code>&lt;name&gt;_Type</code> </td><td>InputDeviceVRPNTracker, InputDeviceVRPNButton, InputDeviceVRPNAnalog, TUIO, InputDeviceSpaceNav </td><td>Specifies the device type </td></tr>
<tr>
<td><code>&lt;name&gt;_InputDeviceVRPNTrackerName</code> </td><td>&lt;vrpn object name&gt;@tcp:&lt;host or IP address&gt;:&lt;port&gt; </td><td></td></tr>
<tr>
<td><code>&lt;name&gt;_InputDeviceVRPNButtonName</code> </td><td>&lt;vrpn object name&gt;@tcp:&lt;host or IP address&gt;:&lt;port&gt; </td><td></td></tr>
<tr>
<td><code>&lt;name&gt;_InputDeviceVRPNAnalogName</code> </td><td>&lt;vrpn object name&gt;@tcp:&lt;host or IP address&gt;:&lt;port&gt; </td><td></td></tr>
<tr>
<td><code>&lt;name&gt;_EventsToGenerate</code> </td><td>string </td><td><a class="el" href="namespaceMinVR.html">MinVR</a> event name to be generated </td></tr>
<tr>
<td><code>&lt;name&gt;_ConvertLHtoRH</code> </td><td>0 or 1 </td><td>Used with InputDeviceVRPNTracker. Converts left handed coordinate system to right handed </td></tr>
<tr>
<td><code>&lt;name&gt;_IgnoreZeroes</code> </td><td>0 or 1 </td><td>Ignore events where the tracker position has not moved </td></tr>
<tr>
<td><code>&lt;name&gt;_WaitForNewReportInPoll</code> </td><td>0 or 1 </td><td></td></tr>
<tr>
<td><code>&lt;name&gt;_TrackerUnitsToRoomUnitsScale</code> </td><td>1 to max float </td><td>Used for unit scaling or conversion, for example from meters to feet </td></tr>
<tr>
<td><code>&lt;name&gt;_DeviceToRoom</code> </td><td>((1,0,0,0), (0,1,0,-1.73), (0,0,1,2.25), (0,0,0,1)) </td><td>Transformation between device coordinates and room coordinates, if the tracker origin is in a different position or orientation </td></tr>
<tr>
<td><code>&lt;event name&gt;_PropToTracker</code> </td><td>((1,0,0,0), (0,1,0,0), (0,0,1,0), (0,0,0,1)) </td><td>Use to adjust the origin of your tracked prop if the origin is not at the tracker location </td></tr>
<tr>
<td><code>&lt;event name&gt;_FinalOffset</code> </td><td>((1,0,0,0), (0,1,0,0), (0,0,1,0), (0,0,0,1)) </td><td></td></tr>
<tr>
<td><code>&lt;name&gt;_Port</code> </td><td>port number </td><td>Used to specify a TUIO port number on localhost </td></tr>
<tr>
<td><code>&lt;name&gt;_XScaleFactor</code> </td><td>1 to max float </td><td>Used to scale the X TUIO cursor position </td></tr>
<tr>
<td><code>MultiTouch_YScaleFactor</code> </td><td>1 to max float </td><td>Used to scale the Y TUIO cursor position </td></tr>
</table>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 13 2013 13:56:18 for MinVR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
