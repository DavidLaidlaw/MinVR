<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>MinVR: Creating a new AppKit</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MinVR
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
   <div id="projectbrief">A multi-platform virtual reality library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Creating a new AppKit </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#creatingappkits_intro">Introduction</a></li>
<li class="level1"><a href="#creatingappkits_struct">Directory structure</a></li>
<li class="level1"><a href="#creatingappkits_files">Code files</a><ul><li class="level2"><a href="#creatingappkits_files_window">Subclassing AbstractWindow</a></li>
<li class="level2"><a href="#creatingappkits_files_engine">Subclassing AbstractMVREngine</a></li>
</ul>
</li>
<li class="level1"><a href="#creatingappkits_build">Create the build system files</a><ul><li class="level2"><a href="#creatingappkits_build_cmakelist">Creating a CMakeLists.txt file</a></li>
<li class="level2"><a href="#creatingappkits_build_cmakemain">Modifying the main CMakeLists.txt</a></li>
<li class="level2"><a href="#creatingappkits_build_find">Modifying the MinVR find modules</a></li>
</ul>
</li>
<li class="level1"><a href="#creatingappkits_doc">Documentation</a></li>
<li class="level1"><a href="#creatingappkits_commit">Committing your new AppKit</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="creatingappkits_intro"></a>
Introduction</h1>
<p>The <a class="el" href="namespaceMinVR.html">MinVR</a> core library is designed for interfacing with multiple VR input devices and display configurations. To use additional graphics toolkits, the library includes specific AppKits. For example, to use the G3D Graphics library (<a href="http://g3d.sourceforge.net/">http://g3d.sourceforge.net/</a>) with <a class="el" href="namespaceMinVR.html">MinVR</a>, you would use the AppKit_G3D9. Although, we have written AppKits for several common graphics libraries, this document specifies how to create a new one.</p>
<h1><a class="anchor" id="creatingappkits_struct"></a>
Directory structure</h1>
<p>AppKits are stored in the <code>AppKits</code> directory at the root of the source tree. Start by creating new directories that look like this:</p>
<div class="fragment"><div class="line">MinVR/</div>
<div class="line">        AppKits/</div>
<div class="line">                AppKit_&lt;new appkit name&gt;/</div>
<div class="line">                        include/</div>
<div class="line">                                AppKit_&lt;new name&gt;/</div>
<div class="line">                        source/</div>
<div class="line">                        example/</div>
<div class="line">                        CMakeLists.txt</div>
</div><!-- fragment --><h1><a class="anchor" id="creatingappkits_files"></a>
Code files</h1>
<p>There are two <a class="el" href="namespaceMinVR.html">MinVR</a> classes that every AppKit must subclass: AbstractMVREngine and AbstractWindow.</p>
<h2><a class="anchor" id="creatingappkits_files_window"></a>
Subclassing AbstractWindow</h2>
<p>Because most graphics toolkits have the functionality to create their own window, AbstractWindow has been designed to be as flexible as possible. Each AppKit should subclass AbstractWindow and fill in the following methods: </p>
<pre class="fragment">    virtual int getWidth() = 0;
    virtual int getHeight() = 0;
    virtual int getXPos() = 0;
    virtual int getYPos() = 0;
    virtual void swapBuffers() = 0;
    virtual void pollForInput(std::vector&lt;EventRef&gt; &amp;events) = 0;
    virtual void makeContextCurrent() = 0;
    virtual void releaseContext() = 0;
</pre><p>Ideally, the constructor will take the WindowSettings object and create a graphic toolkit specific window object accordingly. Most of the other methods that must be overridden are self explanatory.</p>
<p>The <code>pollForInput</code> method should handle window-system keyboard, mouse, and joystick events. For a list of specific event names, see <a class="el" href="events.html">Handling MinVR Events</a>.</p>
<h2><a class="anchor" id="creatingappkits_files_engine"></a>
Subclassing AbstractMVREngine</h2>
<p>The AppKit specific MVREngine must at a minimum override <code>virtual WindowRef createWindow(WindowSettingsRef settings, std::vector&lt;AbstractCameraRef&gt; cameras)</code> in order to create an AppKit specific window object.</p>
<p>Depending on the graphics toolkit, other objects may need be be initialized in the <code>virtual void initializeContextSpecificVars(int threadId, WindowRef window)</code> method. This is called by each renderthread to initialize thread specific variable that depend on the OpenGL context being current.</p>
<h1><a class="anchor" id="creatingappkits_build"></a>
Create the build system files</h1>
<p>To build your AppKit with the default cmake build system, you need to include a CMakeLists.txt file in your AppKit directory. In the following code, we will take you through the process of creating the GLFW AppKit's CMakeLists.txt. The full source can be found in <code>MinVR/AppKits/AppKit_GLFW/CMakeLists.txt</code></p>
<h2><a class="anchor" id="creatingappkits_build_cmakelist"></a>
Creating a CMakeLists.txt file</h2>
<p>First, define the project name and any cmake specific variables </p>
<div class="fragment"><div class="line">project (AppKit_GLFW)</div>
<div class="line">cmake_minimum_required (VERSION 2.8.2)</div>
<div class="line">set (CMAKE_VERBOSE_MAKEFILE TRUE)</div>
</div><!-- fragment --><p>Then, define the source and header files: </p>
<div class="fragment"><div class="line"><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Define the source and header files</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span>set (SOURCEFILES </div>
<div class="line">source/MVREngineGLFW.cpp</div>
<div class="line">source/WindowGLFW.cpp</div>
<div class="line">source/glew.c</div>
<div class="line">)</div>
<div class="line"></div>
<div class="line">set (HEADERFILES</div>
<div class="line">include/AppKit_GLFW/MVREngineGLFW.H</div>
<div class="line">include/AppKit_GLFW/WindowGLFW.H</div>
<div class="line">include/GL/glew.h</div>
<div class="line">)</div>
<div class="line"></div>
<div class="line">if (${CMAKE_SYSTEM_NAME} MATCHES <span class="stringliteral">&quot;Windows&quot;</span>)</div>
<div class="line">        set (HEADERFILES ${HEADERFILES} include/GL/wglew.h)</div>
<div class="line"><span class="keywordflow">else</span> ()</div>
<div class="line">        set (HEADERFILES ${HEADERFILES} include/GL/glxew.h)</div>
<div class="line">endif (${CMAKE_SYSTEM_NAME} MATCHES <span class="stringliteral">&quot;Windows&quot;</span>)</div>
<div class="line"></div>
<div class="line">source_group(<span class="stringliteral">&quot;Header Files&quot;</span> FILES ${HEADERFILES})</div>
</div><!-- fragment --><p>Most AppKits will have a library dependency for the specific graphics toolkit. Although you can include the library in your code directories, if the library is publicly available, it is better to just link to it. This can be accomplished using CMake's externalproject_add module. Here, we are downloading a slightly modified version of the glfw library. If you don't need a modified version, a better practice would be first to find whether the dependency library already exists on the system using a cmake find module.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Download dependencies</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span>set(glfw_checkout_Dir ${CMAKE_SOURCE_DIR}/dependencies/glfw)</div>
<div class="line">make_directory(${glfw_checkout_Dir})</div>
<div class="line">include(ExternalProject)</div>
<div class="line">set(glfw_PREFIX &quot;${glfw_checkout_Dir}<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">set(glfw_INSTALL_DIR &quot;</span>${MINVR_INSTALL_DIR}/glfw<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">set(glfw_CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${glfw_INSTALL_DIR})</span></div>
<div class="line"><span class="stringliteral">set(glfw_DIR &quot;</span>${glfw_INSTALL_DIR}<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">ExternalProject_add(glfw</span></div>
<div class="line"><span class="stringliteral">                PREFIX ${glfw_PREFIX}</span></div>
<div class="line"><span class="stringliteral">                GIT_REPOSITORY https://github.com/bretjackson/glfw.git</span></div>
<div class="line"><span class="stringliteral">                GIT_TAG gpu-affinity</span></div>
<div class="line"><span class="stringliteral">                INSTALL_DIR ${glfw_INSTALL_DIR}</span></div>
<div class="line"><span class="stringliteral">                CMAKE_ARGS ${glfw_CMAKE_ARGS}</span></div>
<div class="line"><span class="stringliteral"> )</span></div>
<div class="line"><span class="stringliteral"> </span></div>
<div class="line"><span class="stringliteral">set_property(TARGET glfw PROPERTY FOLDER &quot;</span>Dependencies<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">set(GLFW_INCLUDE_DIR ${glfw_INSTALL_DIR}/include CACHE INTERNAL &quot;</span>Directory of GLFW header files<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">set(GLFW_LIBRARY ${glfw_INSTALL_DIR}/lib/glfw3.lib CACHE INTERNAL &quot;</span>GLFW lib file<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">include_directories(${GLFW_INCLUDE_DIR})</span></div>
</div><!-- fragment --><p>Include the dependency directories and preprocesser defines</p>
<div class="fragment"><div class="line"><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Include Directories</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span>include_directories (</div>
<div class="line">  .</div>
<div class="line">  ${PROJECT_SOURCE_DIR}/include</div>
<div class="line">  ${CMAKE_SOURCE_DIR}/dependencies/glm</div>
<div class="line">  ${CMAKE_SOURCE_DIR}/MVRCore/include</div>
<div class="line">)</div>
<div class="line"></div>
<div class="line">#------------------------------------------</div>
<div class="line"># Specific preprocessor defines</div>
<div class="line">#------------------------------------------</div>
<div class="line">add_definitions(-DGLEW_STATIC)</div>
<div class="line"></div>
<div class="line"><span class="preprocessor"># Windows Section #</span></div>
<div class="line"><span class="preprocessor"></span><span class="keywordflow">if</span> (MSVC)</div>
<div class="line">    add_definitions(-D_CRT_SECURE_NO_WARNINGS)</div>
<div class="line">        <span class="preprocessor"># Tell MSVC to use main instead of WinMain for Windows subsystem executables</span></div>
<div class="line"><span class="preprocessor"></span>    set_target_properties(${WINDOWS_BINARIES} PROPERTIES LINK_FLAGS <span class="stringliteral">&quot;/ENTRY:mainCRTStartup&quot;</span>)</div>
<div class="line">endif()</div>
</div><!-- fragment --><p>Set the output of the build to the correct directories and handle library naming schemes for debug, etc. </p>
<div class="fragment"><div class="line"><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Set output directories to lib, and bin</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span>make_directory(${CMAKE_BINARY_DIR}/lib)</div>
<div class="line">make_directory(${CMAKE_BINARY_DIR}/bin)</div>
<div class="line">set (CMAKE_ARCHIVE_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)</div>
<div class="line">set (CMAKE_LIBRARY_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/lib)</div>
<div class="line">set (CMAKE_RUNTIME_OUTPUT_DIRECTORY ${CMAKE_BINARY_DIR}/bin)</div>
<div class="line"><span class="keywordflow">foreach</span> (CONF ${CMAKE_CONFIGURATION_TYPES})</div>
<div class="line">        <span class="keywordtype">string</span> (TOUPPER ${CONF} CONF)</div>
<div class="line">        set (CMAKE_RUNTIME_OUTPUT_DIRECTORY_${CONF} ${CMAKE_BINARY_DIR}/bin)</div>
<div class="line">        set (CMAKE_ARCHIVE_OUTPUT_DIRECTORY_${CONF} ${CMAKE_BINARY_DIR}/lib)</div>
<div class="line">        set (CMAKE_LIBRARY_OUTPUT_DIRECTORY_${CONF} ${CMAKE_BINARY_DIR}/lib)</div>
<div class="line">endforeach(CONF CMAKE_CONFIGURATION_TYPES)</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor"># Handle library naming</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#------------------------------------------</span></div>
<div class="line"><span class="preprocessor"></span>set(CMAKE_DEBUG_POSTFIX <span class="stringliteral">&quot;d&quot;</span>)</div>
<div class="line">set(CMAKE_RELEASE_POSTFIX &quot;&quot;)</div>
<div class="line">set(CMAKE_RELWITHDEBINFO_POSTFIX &quot;rd&quot;)</div>
<div class="line">set(CMAKE_MINSIZEREL_POSTFIX &quot;s&quot;)</div>
<div class="line"><span class="preprocessor">#set the build postfix extension according to the current configuration</span></div>
<div class="line"><span class="preprocessor"></span><span class="keywordflow">if</span> (CMAKE_BUILD_TYPE MATCHES <span class="stringliteral">&quot;Release&quot;</span>)</div>
<div class="line">        set(CMAKE_BUILD_POSTFIX <span class="stringliteral">&quot;${CMAKE_RELEASE_POSTFIX}&quot;</span>)</div>
<div class="line">elseif (CMAKE_BUILD_TYPE MATCHES &quot;MinSizeRel&quot;)</div>
<div class="line">        set(CMAKE_BUILD_POSTFIX &quot;${CMAKE_MINSIZEREL_POSTFIX}<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">elseif (CMAKE_BUILD_TYPE MATCHES &quot;</span>RelWithDebInfo<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">        set(CMAKE_BUILD_POSTFIX &quot;</span>${CMAKE_RELWITHDEBINFO_POSTFIX}<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">elseif (CMAKE_BUILD_TYPE MATCHES &quot;</span>Debug<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">        set(CMAKE_BUILD_POSTFIX &quot;</span>${CMAKE_DEBUG_POSTFIX}<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">else()</span></div>
<div class="line"><span class="stringliteral">        set(CMAKE_BUILD_POSTFIX &quot;</span><span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">endif()</span></div>
<div class="line"><span class="stringliteral">@code</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">Finally, set add the library as a build target. Note how the Folder property is set so that it is added to the `App Kits` folder in Visual Studio, and other supported IDEs. The install target should copy the include files into the install directory</span></div>
<div class="line"><span class="stringliteral">@code</span></div>
<div class="line"><span class="stringliteral">#------------------------------------------</span></div>
<div class="line"><span class="stringliteral"># Build Target</span></div>
<div class="line"><span class="stringliteral">#------------------------------------------</span></div>
<div class="line"><span class="stringliteral">add_library ( ${PROJECT_NAME} ${HEADERFILES} ${SOURCEFILES} )</span></div>
<div class="line"><span class="stringliteral">set_property(TARGET ${PROJECT_NAME} PROPERTY FOLDER &quot;</span>App Kits<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">add_dependencies(${PROJECT_NAME} boost glfw MVRCore)</span></div>
<div class="line"><span class="stringliteral"></span></div>
<div class="line"><span class="stringliteral">#------------------------------------------</span></div>
<div class="line"><span class="stringliteral"># Install Target</span></div>
<div class="line"><span class="stringliteral">#------------------------------------------</span></div>
<div class="line"><span class="stringliteral">install(DIRECTORY ${PROJECT_SOURCE_DIR}/include/ DESTINATION &quot;</span>${MINVR_INSTALL_DIR}/include<span class="stringliteral">&quot;)</span></div>
</div><!-- fragment --><h2><a class="anchor" id="creatingappkits_build_cmakemain"></a>
Modifying the main CMakeLists.txt</h2>
<p>To make your AppKit build with the rest of the library, you need to modify the CMakeLists.txt at the root level of the <a class="el" href="namespaceMinVR.html">MinVR</a> repository.</p>
<p>Open <code>MinVR/CMakeLists.txt</code>. At the top of the file define a new option to specify whether your AppKit should be built: </p>
<pre class="fragment">    option(USE_APPKIT_&lt;appkit name&gt; "Enable to use the &lt;appkit name&gt; app kit" OFF)
</pre><p>At the bottom of the file, specify your new AppKit directory: </p>
<pre class="fragment">    if (USE_APPKIT_&lt;appkit name&gt;)
            add_subdirectory (AppKits/AppKit_&lt;appkit name&gt;)
    endif()
</pre><p>Finally, add your example to the build examples if statement:</p>
<p>if (BUILD_EXAMPLES) add_subdirectory(AppKits/AppKit_GLFW/example) add_subdirectory(AppKits/AppKit_G3D9/example) add_subdirectory(AppKits/AppKit_&lt;appkit name&gt;=""&gt;/example) endif()</p>
<h2><a class="anchor" id="creatingappkits_build_find"></a>
Modifying the MinVR find modules</h2>
<p>The cmake build system will automatically generate <a class="el" href="namespaceMinVR.html">MinVR</a> cmake find modules that make it easier for external projects to find and link against the library. In order for people to use your new AppKit, it should be added to these files.</p>
<p>Open <code>MinVR/cmake/minvr_minvrconfig.cmake</code>. In the section titled "Handle AppKit components and dependencies", add the following lines:</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (USE_APPKIT_&lt;appkit name&gt;)</div>
<div class="line">        set(MVRCONFIG_AVAILABLE_COMPONENTS <span class="stringliteral">&quot;${MVRCONFIG_AVAILABLE_COMPONENTS} AppKit_&lt;appkit name&gt;&quot;</span>)</div>
<div class="line">        set(MVRCONFIG_AVAILABLE_COMPONENTS_LIST &quot;${MVRCONFIG_AVAILABLE_COMPONENTS_LIST}\n# - AppKit_&lt;appkit name&gt;<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">        set(MVRCONFIG_DEPENDENCIES &quot;</span>${MVRCONFIG_DEPENDENCIES}set(minvr_appkit_&lt;appkit name&gt;_dep MVRCore &lt;the cmake project names of any dependences&gt;\n<span class="stringliteral">&quot;)</span></div>
<div class="line"><span class="stringliteral">endif(USE_APPKIT_&lt;appkit name&gt;)</span></div>
</div><!-- fragment --><p>Then, open <code>MinVR/cmake/MinVRConfig.cmake.in</code>. Find the 3rdparty libraries macro section. Add a new macro for each library dependency your appkit has. For example, the GLFW appkit depends on the glfw library, so the added macro looks like this:</p>
<div class="fragment"><div class="line">macro(find_glfw)</div>
<div class="line">        set(glfw_DIR &quot;@MINVR_INSTALL_DIR@/glfw/lib/cmake/glfw&quot;)</div>
<div class="line">        find_package(glfw ${QUIET_})</div>
<div class="line">        set(GLFW_FOUND ${glfw_FOUND})</div>
<div class="line">        set(GLFW_INCLUDE_DIRS ${GLFW_INCLUDE_DIR})</div>
<div class="line">        set(GLFW_LIBRARY_DIRS ${GLFW_LIBRARY_DIR})</div>
<div class="line">        set(GLFW_LIBRARIES ${GLFW_LIBRARY})</div>
<div class="line">endmacro(find_glfw)</div>
</div><!-- fragment --><p>Finally, add a new else statement to the <code>find_external_library</code> macro to reference the dependency macro. For example, the glfw one listed above looks like this:</p>
<div class="fragment"><div class="line">elseif(<span class="stringliteral">&quot;${_lib}&quot;</span> STREQUAL <span class="stringliteral">&quot;glfw&quot;</span>)</div>
<div class="line">    find_glfw()</div>
</div><!-- fragment --><h1><a class="anchor" id="creatingappkits_doc"></a>
Documentation</h1>
<p>If your AppKit requires special build instructions, make sure to update or add to the documentation in <code>MinVR/doc</code>.</p>
<h1><a class="anchor" id="creatingappkits_commit"></a>
Committing your new AppKit</h1>
<p>Once your AppKit is finished, make sure to test that it works and your example builds correctly. When you are happy with it, please contribute it back to the <a class="el" href="namespaceMinVR.html">MinVR</a> repository so that others may use it as well. This is accomplished by creating a Git pull request. For information on how to do this, see <a class="el" href="contributing.html">How to Contribute</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 13 2013 13:56:18 for MinVR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
